---
layout: post
title:  "How to test internet bandwidth with command line"
date:   2018-02-24
excerpt: "There are multiple tools we could use to test the internet bandwidth at home. What if a server?"
image: "/images/speedtest/7085753952.png"
---

In China, PC users could install applications like <i>tencent PC manager</i> to test downloading and uploading speed. However, Mac users and Linux server administrators might want to know their bandwidth in specific scenes. If you have a screen and a web browser, just click <i>GO</i> on [speedtest.org](http://www.speedtest.net/) home page could be the easiest way. If you don't, no worries, a command line tool [<i><b>speedtest-cli</b></i>](https://github.com/sivel/speedtest-cli.wiki.git) will help you.

### 3 ways to install

This tool which works with Python 2.4 ~ 3.7 could be installed on Windows, Mac OSX and Linux. What you need to do is using <i>pip</i> command,
```
pip install speedtest-cli
```
Or <i>clone</i> the whole project from <i>Github</i>,
```
git clone https://github.com/sivel/speedtest-cli.git
python speedtest-cli/setup.py install
```
If you haven't install commands <i>pip</i> or <i>git</i>, the traditional installation way is effected as well.
```
wget -O speedtest-cli https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py
chmod +x speedtest-cli
```
### start to test
Extremely easy. Input <i>speedtest-cli</i> into the terminal,
![speedtest-cli](/images/speedtest/2018-02-24_14h35_35.png){:height="80%" width="80%" .center-image}
Actually the tool is so strong that you have these parameters to use,
```
$ speedtest-cli -h
usage: speedtest-cli [-h] [--no-download] [--no-upload] [--bytes] [--share]
                     [--simple] [--csv] [--csv-delimiter CSV_DELIMITER]
                     [--csv-header] [--json] [--list] [--server SERVER]
                     [--exclude EXCLUDE] [--mini MINI] [--source SOURCE]
                     [--timeout TIMEOUT] [--secure] [--no-pre-allocate]
                     [--version]

Command line interface for testing internet bandwidth using speedtest.net.
--------------------------------------------------------------------------
https://github.com/sivel/speedtest-cli

optional arguments:
  -h, --help            show this help message and exit
  --no-download         Do not perform download test
  --no-upload           Do not perform upload test
  --bytes               Display values in bytes instead of bits. Does not
                        affect the image generated by --share, nor output from
                        --json or --csv
  --share               Generate and provide a URL to the speedtest.net share
                        results image, not displayed with --csv
  --simple              Suppress verbose output, only show basic information
  --csv                 Suppress verbose output, only show basic information
                        in CSV format. Speeds listed in bit/s and not affected
                        by --bytes
  --csv-delimiter CSV_DELIMITER
                        Single character delimiter to use in CSV output.
                        Default ","
  --csv-header          Print CSV headers
  --json                Suppress verbose output, only show basic information
                        in JSON format. Speeds listed in bit/s and not
                        affected by --bytes
  --list                Display a list of speedtest.net servers sorted by
                        distance
  --server SERVER       Specify a server ID to test against. Can be supplied
                        multiple times
  --exclude EXCLUDE     Exclude a server from selection. Can be supplied
                        multiple times
  --mini MINI           URL of the Speedtest Mini server
  --source SOURCE       Source IP address to bind to
  --timeout TIMEOUT     HTTP timeout in seconds. Default 10
  --secure              Use HTTPS instead of HTTP when communicating with
                        speedtest.net operated servers
  --no-pre-allocate     Do not pre allocate upload data. Pre allocation is
                        enabled by default to improve upload performance. To
                        support systems with insufficient memory, use this
                        option to avoid a MemoryError
  --version             Show the version number and exit
```
For example, if you want to list all the test nodes in your country/region, try command like this,<br>
(ignore the Ukraine one ...)
![speedtest-cli_region](/images/speedtest/2018-02-24_14h44_41.png){:height="80%" width="80%" .center-image}
Share(Show off) you bandwidth? Use <i>--share</i>,
![speedtest-cli_share](/images/speedtest/2018-02-24_14h52_34.png){:height="80%" width="80%" .center-image}
Notice the URL? Visit it and you could get a graphical Internet bandwidth testing result like the cover shows,
![speedtest-cli_image](/images/speedtest/7085753952.png){:height="80%" width="80%" .center-image}

### Python API
This tool also provides python APIs which might help you to <i>aviod <b>MemoryError</b></i>, <i>set a mini server</i> or <i>set <b>Bind</b> source</i>. Read the [wiki](https://github.com/sivel/speedtest-cli/wiki) to learn how to use them.

<br>
<br>
<br><br>
<br><br>
<br><br>
ref: https://github.com/sivel/speedtest-cli
